!function(e){function t(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){s(20)},function(e,t){"use strict";function s(){return"undefined"!=typeof window}function i(e,t){var s=e.match(/%[a-zA-Z_]+%/g);return s&&s.length>0&&s.forEach(function(s){var i=t[s.replace(/%/g,"")]||"";e=e.replace(s,i)}),e}function a(e,t,s){return e.indexOf(t)===-1&&"string"==typeof s&&s.length>0&&(e+=e.indexOf("?")>-1?"&":"?",e+=t+"="+s),e}var n="https://www.immobilienscout24.de",o="https://www.sandbox-immobilienscout24.de",r="/baufinanzierung/finanzierungsrechner/%exposeId%?cmp_name=finance_calculator",c="/baufinanzierung/myscout/?exposeId=%exposeId%&cmp_name=myscout_calculator",l="/baufinanzierung/?cmp_name=finance_comparison",d="/baufinanzierung/anbieter/%providerId%/?exposeId=%exposeId%&cmp_name=finance_profile",f="/baufinanzierung-api/restapi/api/financing/construction/v1.0/monthlyrate",h="/baufinanzierung-api/restapi/api/financing/construction/v2/offer",g="/geoautocomplete/v3/entities/%geoCode%?g=GeoId";s()&&(window.is24=window.is24||{},window.is24.baufinanzierung=window.is24.baufinanzierung||{},window.is24.baufinanzierung.widgets=window.is24.baufinanzierung.widgets||{}),e.exports={getBaseUrl:function(){if(s()){if("string"==typeof window.is24.baufinanzierung.apiBaseUrl)return window.is24.baufinanzierung.apiBaseUrl;if(window.location&&window.location.hostname&&window.location.hostname.indexOf(".sandbox-immobilienscout24.de")>-1)return o}return n},isLiveStage:function(){return this.getBaseUrl()===n},isEnabled:function(e){return!(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Googlebot")>-1)&&(!s()||!window.is24.baufinanzierung.widgets[e]||window.is24.baufinanzierung.widgets[e].enabled)},getFinancingCalculatorUrl:function(e){var t=r;return t=i(t,e),this.getBaseUrl()+this.addTracking(t,e)},getMyScoutUrl:function(e){var t=c;return t=i(t,e),this.getBaseUrl()+this.addTracking(t,e)},getProviderComparisonUrl:function(e){var t=l;return t=i(t,e),this.getBaseUrl()+this.addTracking(t,e)},getProviderProfileUrl:function(e){var t=d;return t=i(t,e),this.getBaseUrl()+this.addTracking(t,e)},getMonthlyRateApiUrl:function(){return this.getBaseUrl()+f},getOfferApiUrl:function(){return this.getBaseUrl()+h},getGacApiUrl:function(e){var t=g;return t=i(t,e),this.getBaseUrl()+t},addTracking:function(e,t){return e=e||"",t=t||{},e=a(e,"cmp_id",t.trackingCmpId),e=a(e,"cmp_name",t.trackingCmpName),e=a(e,"cmp_position",t.trackingCmpPosition),e=a(e,"cmp_creative",t.trackingCmpCreative)}}},function(e,t,s){"use strict";function i(){this.listener=null,this.widgetName=null,this.errorEvent="widgetError"}var a=s(1),n="/baufinanzierung-api/restapi/api/financing/construction/v1.0/log/warn";i.prototype={addErrorListener:function(e,t){if(!this.listener){this.listener=e("body"),this.widgetName=t,this.errorEvent+="-"+t;var s=this;this.listener.on(this.errorEvent,function(t,i){var o=a.getBaseUrl()+n,r={payload:{href:window&&window.location?window.location.href:"",consoleMessage:i.message,appName:s.widgetName}};navigator&&navigator.userAgent&&(r.payload.userAgent=navigator.userAgent),e.ajax({type:"POST",url:o,data:JSON.stringify(r),contentType:"application/json"})})}},throwError:function(e,t){this.listener&&(t=t||"error",this.listener.trigger(this.errorEvent,{message:e,level:t}))}},e.exports=new i},function(e,t){"use strict";e.exports={isTruthy:function(e){if(void 0===e||null===e)return!1;var t=(""+e).toLowerCase();return"true"===t||"yes"===t||"ja"===t},formatCurrency:function(e){return e=parseInt(e),e=""+e.toFixed(1).replace(/(\d)(?=(\d{3})+\.)/g,"$1.")+"€",e.replace(".0€","&nbsp;€")},formatRate:function(e,t){return"number"==typeof e?(""+e.toFixed(t)).replace(".",","):e}}},function(e,t){"use strict";e.exports={LOADING_DATA:"LOADING_DATA",DATA_LOADED:"DATA_LOADED",RELOAD_DATA:"RELOAD_DATA",FINANCING_DATA_UPDATED:"FINANCING_DATA_UPDATED"}},function(e,t,s){function i(e,t){for(var s=0;s<e.length;s++){var i=e[s],a=u[i.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](i.parts[n]);for(;n<i.parts.length;n++)a.parts.push(d(i.parts[n],t))}else{for(var o=[],n=0;n<i.parts.length;n++)o.push(d(i.parts[n],t));u[i.id]={id:i.id,refs:1,parts:o}}}}function a(e){for(var t=[],s={},i=0;i<e.length;i++){var a=e[i],n=a[0],o=a[1],r=a[2],c=a[3],l={css:o,media:r,sourceMap:c};s[n]?s[n].parts.push(l):t.push(s[n]={id:n,parts:[l]})}return t}function n(e,t){var s=w(e.insertInto);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=y[y.length-1];if("top"===e.insertAt)i?i.nextSibling?s.insertBefore(t,i.nextSibling):s.appendChild(t):s.insertBefore(t,s.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");s.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function r(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),n(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),n(e,t),t}function l(e,t){Object.keys(t).forEach(function(s){e.setAttribute(s,t[s])})}function d(e,t){var s,i,a;if(t.singleton){var n=b++;s=v||(v=r(t)),i=f.bind(null,s,n,!1),a=f.bind(null,s,n,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=c(t),i=g.bind(null,s,t),a=function(){o(s),s.href&&URL.revokeObjectURL(s.href)}):(s=r(t),i=h.bind(null,s),a=function(){o(s)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}function f(e,t,s,i){var a=s?"":i.css;if(e.styleSheet)e.styleSheet.cssText=C(t,a);else{var n=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(n,o[t]):e.appendChild(n)}}function h(e,t){var s=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}function g(e,t,s){var i=s.css,a=s.sourceMap,n=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||n)&&(i=x(i)),a&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([i],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var u={},m=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=m(function(){return window&&document&&document.all&&!window.atob}),w=function(e){var t={};return function(s){return"undefined"==typeof t[s]&&(t[s]=e.call(this,s)),t[s]}}(function(e){return document.querySelector(e)}),v=null,b=0,y=[],x=s(9);e.exports=function(e,t){t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},"undefined"==typeof t.singleton&&(t.singleton=p()),"undefined"==typeof t.insertInto&&(t.insertInto="head"),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var s=a(e);return i(s,t),function(e){for(var n=[],o=0;o<s.length;o++){var r=s[o],c=u[r.id];c.refs--,n.push(c)}if(e){var l=a(e);i(l,t)}for(var o=0;o<n.length;o++){var c=n[o];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete u[c.id]}}}};var C=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}()},function(e,t){"use strict";function s(){}s.prototype={isTrackingDefined:function(){return window.IS24&&window.IS24.TEALIUM},track:function(e){if(this.isTrackingDefined())try{window.IS24.TEALIUM.tracking.report(e)}catch(e){}}},e.exports=new s},function(e,t){e.exports='<div class="grid grid-flex grid-align-center monthly-rate-box border padding-xs"> <span class="monthly-rate-label grid-item five-tenths font-line-xs palm-hide">Geschätzte Monatsrate</span> <div class="grid-item palm-show one-whole align-center"> <span class="calculator hide-while-loading"><i class="fa fa-calculator" aria-hidden=true></i></span> <span class="monthly-rate-result spinner show-while-loading align-center"><i class="fa fa-spinner fa-spin"></i></span> </div> <div class="grid-item four-tenths palm-hide align-right"> <span class="monthly-rate-result monthly-rate-value padding-top-xs"></span> <span class="monthly-rate-calculator hide-while-loading"><i class="fa fa-calculator" aria-hidden=true></i></span> <span class="monthly-rate-result palm-one-whole spinner show-while-loading"><i class="fa fa-spinner fa-spin"></i></span> </div> <i class="fa fa-fw fa-angle-down grid-item one-tenth align-right palm-hide"></i> <div class="monthly-rate-details-box hide border background-white padding-m"> <div class=monthly-rate-details-box-arrow></div> <div class="grid border-bottom font-s padding-bottom-s"> <span class="grid-item four-tenths purchase-price-label">Kaufpreis</span> <span class="grid-item six-tenths align-right purchase-price-value"></span> </div> <div class="grid font-s border-bottom"> <div class="grid-item one-whole padding-top-m"> <span class="grid-item column1">+</span> <span class="grid-item column2">Kaufnebenkosten <span class="font-s-fixed font-lightgray">(<span class=additional-costs-percentage></span> %)</span></span> <span class="grid-item column3 align-right additional-costs-value"></span> </div> <div class="grid-item one-whole padding-vertical-s"> <span class="grid-item column1">-</span> <span class="grid-item column2-small">Eigenkapital <span class="font-s-fixed font-lightgray">(<span class=own-funds-percentage></span> %)</span></span> <span class="grid-item column3-large align-right own-funds-value"></span> </div> <div class="grid-item one-whole padding-bottom-m"> <span class="grid-item column1">=</span> <span class="grid-item column2-small">Nettodarlehen</span> <span class="grid-item column3-large align-right loan-amount"></span> </div> </div> <div class="grid font-s padding-top-s"> <span class="grid-item one-half estimated-monthly-rate-label">Monatsrate ca.</span> <span class="grid-item one-half align-right spinner show-while-loading font-regular"><i class="fa fa-spinner fa-spin"></i></span> <span class="grid-item one-half align-right monthly-rate-value hide-while-loading font-regular"></span> </div> <div class="padding-top-s font-s-fixed align-center"> <span class=end-note-for-loan> (Basierend auf <span class=fixed-nominal-interest-rate></span> Jahre Sollzinsbindung / <br> <span class=amortization-rate></span>&nbsp;% anfängliche Tilgung / Sollzins <span class=average-interest-rate></span>&nbsp;%) </span> <span class=end-note-no-loan> (Eine Monatsrate kann nur für Nettodarlehen ab 50.000&nbsp;€ berechnet werden.) </span> </div> <button class="one-whole monthly-rate-button button-secondary margin-top-s button-label-for-loan"> Persönliche Rate berechnen </button> <button class="one-whole monthly-rate-button button-secondary margin-top-s button-label-no-loan"> Zum Finanzierungsrechner </button> </div> </div> '},function(e,t){e.exports='.monthly-rate-widget{position:relative;cursor:pointer;border-radius:2px;display:inline-block;min-width:150px;line-height:14px}.monthly-rate-box{width:150px;height:40px;cursor:pointer;padding:2px 8px;border-radius:4px}.monthly-rate-box .font-line-xs{line-height:1.1em}.monthly-rate-box .monthly-rate-label{color:#747474;font-size:1rem}.monthly-rate-box .monthly-rate-value{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.monthly-rate-box .monthly-rate-result{font-size:1.3rem;text-align:center}.monthly-rate-box .palm-show{display:none !important}.monthly-rate-box.no-responsive .palm-hide{display:inline-block !important}.monthly-rate-box.no-responsive .palm-show{display:none !important}.monthly-rate-details-box{z-index:999;position:absolute;width:280px;padding:2px 8px;border-radius:4px;box-shadow:0 1px 11px 0 rgba(0,0,0,0.35);margin:16px 4px 4px 4px;left:-59px;top:35px;cursor:default;background-color:#f4f6f8 !important}.monthly-rate-details-box .column1{width:10px}.monthly-rate-details-box .column2{width:150px}.monthly-rate-details-box .column2-small{width:130px}.monthly-rate-details-box .column3{width:70px;float:right !important}.monthly-rate-details-box .column3-large{width:85px;float:right !important}.monthly-rate-details-box .font-s-fixed{font-size:10px}.monthly-rate-details-box-arrow{top:-15px;left:123px;content:"";position:absolute;border-width:7px;border-style:solid;width:0;height:0;border-color:transparent transparent #e0e0e0 transparent}.monthly-rate-details-box-arrow::after{top:-5px;left:-7px;content:"";position:absolute;border-width:7px;border-style:solid;border-color:transparent transparent #f4f6f8 transparent}.monthly-rate-calculator{text-align:right}@media all and (max-width:669px){.monthly-rate-box:not(.no-responsive){width:40px !important}.monthly-rate-box:not(.no-responsive) .monthly-rate-details-box{left:-106px !important}.monthly-rate-box:not(.no-responsive) .palm-hide{display:none !important}.monthly-rate-box:not(.no-responsive) .palm-show{display:inline-block !important}.monthly-rate-box:not(.no-responsive) .monthly-rate-calculator{width:100% !important;text-align:center !important}.monthly-rate-box:not(.no-responsive) .fa-calculator{font-weight:700!important;font-size:18px!important;color:#003468}}'},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var s=t.protocol+"//"+t.host,i=s+t.pathname.replace(/\/[^\/]*$/,"/"),a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return e;var n;return n=0===a.indexOf("//")?a:0===a.indexOf("/")?s+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(n)+")"});return a}},function(e,t,s){var i=s(8);"string"==typeof i&&(i=[[e.id,i,""]]);s(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,s){"use strict";function i(e,t,s){return e()?s():(this.chekInterval=null,this.checkProgress=function(){var t=this;return e()?(t.chekInterval&&clearInterval(t.chekInterval),t.chekInterval=null,void s()):void(t.chekInterval||(t.chekInterval=setInterval(function(){t.checkProgress()},25)))},setTimeout(function(){var e=document.createElement("script");e.src=t,document.getElementsByTagName("head")[0].appendChild(e)},1),void this.checkProgress())}var a=s(1),n="https://www.static-immobilienscout24.de/fro/jquery/3.1.0/jquery.min.js",o=a.getBaseUrl()+"/baufinanzierung/resources/requiredJS.js";i.ensureJQuery=function(e){function t(){return"undefined"!=typeof window.jQuery&&"undefined"!=typeof window.jQuery.fn}var s=function(){new i(t,n,e)};"complete"===document.readyState?s():document.addEventListener("DOMContentLoaded",function(){s()})},i.baufiFeatureSwitches=function(e){function t(){try{return"undefined"!=typeof window.is24.baufinanzierung.featureSwitches}catch(e){return!1}}var s=function(){function s(){var t="[]",s="{}";window.is24&&window.is24.baufinanzierung&&(window.is24.baufinanzierung.featureSwitches&&(t=JSON.stringify(window.is24.baufinanzierung.featureSwitches,null,0)),window.is24.baufinanzierung.datafile&&(s=JSON.stringify(window.is24.baufinanzierung.datafile,null,0))),window.is24=null,window.de=null,delete window.is24,delete window.de,n&&(window.is24=JSON.parse(n)),a&&(window.de=JSON.parse(a)),e(t,s)}var a,n;t()||(void 0!==window.is24&&null!==window.is24&&(n=JSON.stringify(window.is24,null,0)),void 0!==window.de&&null!==window.de&&(a=JSON.stringify(window.de,null,0))),new i(t,o,s)};"complete"===document.readyState||"interactive"===document.readyState?s():document.addEventListener("DOMContentLoaded",function(){s()})},e.exports=i},function(e,t){"use strict";function s(){try{return!!window.localStorage&&(window.localStorage.setItem("_is24.testKey_","test"),window.localStorage.removeItem("_is24.testKey_"),!0)}catch(e){return!1}}function i(e){if(s())try{var t=JSON.parse(window.localStorage.getItem(e));return t||{}}catch(e){}return{}}function a(e,t){if(s())try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function n(){this.defaults={employment:"EMPLOYED",amortizationRate:2,fixedNominalInterestRate:"TEN_YEARS"}}var o="financingData";n.prototype.getValues=function(){var e=i(o),t=e.fixedNominalInterestRate||this.defaults.fixedNominalInterestRate;return{employment:e.employment||this.defaults.employment,amortizationRate:e.amortizationRate||this.defaults.amortizationRate,fixedNominalInterestRate:t,fixedNominalInterestRateNumber:this.mapFixedNominalInterestRate(t),ownFunds:e.ownFunds,geoCode:e.geoCode}},n.prototype.updateValues=function(e,t,s){var n=this.mapFixedNominalInterestRateNumber(t),r=i(o);r.ownFunds=e,r.fixedNominalInterestRate=n,r.amortizationRate=s,a(o,r)},n.prototype.mapFixedNominalInterestRate=function(e){switch(e){case"FIVE_YEARS":return 5;case"TEN_YEARS":return 10;case"FIFTEEN_YEARS":return 15;case"TWENTY_YEARS":return 20;case"THIRTY_YEARS":return 30;case"FORTY_YEARS":return 40}return""},n.prototype.mapFixedNominalInterestRateNumber=function(e){switch(e){case 5:return"FIVE_YEARS";case 10:return"TEN_YEARS";case 15:return"FIFTEEN_YEARS";case 20:return"TWENTY_YEARS";case 30:return"THIRTY_YEARS";case 40:return"FORTY_YEARS"}return this.defaults.fixedNominalInterestRate},e.exports=new n},function(e,t,s){"use strict";function i(e,t,s){if(this.$=e,this.$element=this.$(t),"object"==typeof this.$element){var i=this.$element.data("monthlyRateButtonWidget");if(i)return i;this.$element.data("monthlyRateButtonWidget",this)}this.$widgetBox=null,this.$detailsLayer=null,this.$clickOutButton=null,this.trackingCmpId=this.$element.data("tracking-cmp-id")||"",this.trackingCmpName=this.$element.data("tracking-cmp-name")||"",this.trackingCmpPosition=this.$element.data("tracking-cmp-position")||"",this.trackingCmpCreative=this.$element.data("tracking-cmp-creative")||"monthly_rate_widget";var a=this;s&&(s.on(c.LOADING_DATA,function(e,t){a.render(t)}),s.on(c.DATA_LOADED,function(e,t){a.render(t)}))}var a=s(6),n=s(3),o=s(1),r=s(2),c=s(4),l=s(7);s(10),i.prototype={prepareDom:function(){0===this.$element.find(".monthly-rate-box").length&&(this.$element.append(this.$(l)),this.$widgetBox=this.$element.find(".monthly-rate-box"),this.$detailsLayer=this.$element.find(".monthly-rate-details-box"),this.$clickOutButton=this.$element.find("button.monthly-rate-button"),this.$purchasePriceValue=this.$element.find(".purchase-price-value"),this.$additionalCostsPercentage=this.$element.find(".additional-costs-percentage"),this.$additionalCostsValue=this.$element.find(".additional-costs-value"),this.$ownFundsPercentage=this.$element.find(".own-funds-percentage"),this.$ownFundsValue=this.$element.find(".own-funds-value"),this.$loanAmount=this.$element.find(".loan-amount"),this.$spinners=this.$element.find(".spinner"),this.$monthlyRateValue=this.$element.find(".monthly-rate-value"),this.$monthlyRateCalculator=this.$element.find(".monthly-rate-calculator"),this.$noteForLoanAmount=this.$element.find(".end-note-for-loan"),this.$noteNoLoanAmount=this.$element.find(".end-note-no-loan"),this.$buttonNoLoanAmount=this.$element.find(".button-label-no-loan"),this.$buttonForLoanAmount=this.$element.find(".button-label-for-loan"),this.$monthlyRateLabel=this.$element.find(".estimated-monthly-rate-label"),"undefined"!=typeof this.$element.attr("data-no-responsive")&&this.$widgetBox.addClass("no-responsive"),this.addClickHandler())},closeDetailsLayer:function(){this.$detailsLayer.addClass("hide")},openDetailsLayer:function(){this.$detailsLayer.removeClass("hide"),a.track({evt_ga_category:"finance",evt_ga_action:"monthly_rate_widget",evt_ga_label:"opening"}),this.scrollDetailsIntoView()},scrollDetailsIntoView:function(){try{var e=window.innerHeight,t=-1*document.body.getBoundingClientRect().top,s=t+e,i=t+this.$detailsLayer[0].getBoundingClientRect().bottom+5;if(s<i){var a=t+(i-s);this.$("html, body").animate({scrollTop:a},"slow")}}catch(e){r.throwError('MonthlyRateButton.scrollDetailsIntoView - error: "'+JSON.stringify(e)+'"')}},toggleDetailsLayer:function(){this.$detailsLayer.is(":visible")?this.closeDetailsLayer():this.openDetailsLayer()},clickOut:function(){var e,t;"object"==typeof this.model&&(e=this.model.exposeId||"");var s={exposeId:e||"",trackingCmpName:this.trackingCmpName||"",trackingCmpId:this.trackingCmpId||"",trackingCmpPosition:this.trackingCmpPosition||"",trackingCmpCreative:this.trackingCmpCreative||""};t="myscout"===this.model.buttonUrl?o.getMyScoutUrl(s):o.getFinancingCalculatorUrl(s),window.open(t,"_self")},addClickHandler:function(){function e(e){return 0===e.closest(i.$widgetBox).length&&0===e.closest(i.$detailsLayer).length}function t(e){return e.closest(i.$detailsLayer).length>0}function s(e){return e.closest(i.$clickOutButton).length>0}var i=this;document.addEventListener("mousedown",function(a){try{var n=i.$(a.target);if(e(n))return void i.closeDetailsLayer();if(a.preventDefault(),!t(n))return void i.toggleDetailsLayer();s(n)&&i.clickOut()}catch(e){r.throwError('MonthlyRateButton.clickHandler - error: "'+JSON.stringify(e)+'"')}})},showLoadingSpinner:function(){this.$monthlyRateValue.hide(),this.$monthlyRateCalculator.hide(),this.$spinners.show()},showMonthlyRate:function(){this.$spinners.hide(),this.$monthlyRateCalculator.hide(),this.$monthlyRateValue.show(),this.$monthlyRateLabel.show()},showCalculator:function(){this.$monthlyRateCalculator.show(),this.$monthlyRateValue.hide(),this.$monthlyRateLabel.hide()},hideEndNote:function(){this.$noteForLoanAmount.hide(),this.$noteNoLoanAmount.hide()},showEndNoteForLoan:function(){this.$element.find(".fixed-nominal-interest-rate").text(this.model.fixedNominalInterestRateNumber),this.$element.find(".amortization-rate").text(n.formatRate(this.model.amortizationRate,1)),this.$element.find(".average-interest-rate").text(n.formatRate(this.model.averageInterestRate,2)),this.$noteForLoanAmount.show(),this.$noteNoLoanAmount.hide()},showEndNoteForNoLoan:function(){this.$noteForLoanAmount.hide(),this.$noteNoLoanAmount.show()},showDefaultButton:function(){this.$buttonNoLoanAmount.hide(),this.$buttonForLoanAmount.show()},showButtonForNoLoan:function(){this.$buttonNoLoanAmount.show(),this.$buttonForLoanAmount.hide()},setCurrencyOnElement:function(e,t){t="undefined"==typeof t||"NaN"===t?"-,--&nbsp;€":n.formatCurrency(t),e.html(t)},setPercentageOnElement:function(e,t){t=isNaN(t)?parseInt(t)||0:Math.max(0,t),e.text(t)},setPurchasePriceValue:function(e){this.setCurrencyOnElement(this.$purchasePriceValue,e)},setAdditionalCostsPercentage:function(e){this.setPercentageOnElement(this.$additionalCostsPercentage,e)},setAdditionalCostsValue:function(e){this.setCurrencyOnElement(this.$additionalCostsValue,e)},setOwnFundsValue:function(e){this.setCurrencyOnElement(this.$ownFundsValue,e)},setOwnFundsPercentage:function(e){this.setPercentageOnElement(this.$ownFundsPercentage,e)},setLoanAmount:function(e){this.setCurrencyOnElement(this.$loanAmount,e)},setMonthlyRate:function(e){this.setCurrencyOnElement(this.$monthlyRateValue,e),this.showMonthlyRate()},onLoading:function(){this.$element.find(".show-while-loading").show(),this.$element.find(".hide-while-loading").hide()},onReady:function(){this.$element.find(".show-while-loading").hide(),this.$element.find(".hide-while-loading").show()},render:function(e){switch(this.model=e,this.prepareDom(),this.setAdditionalCostsPercentage(this.model.additionalCosts.total.percent),this.setAdditionalCostsValue(this.model.additionalCosts.total.sum),this.setLoanAmount(this.model.loanAmount),this.setOwnFundsPercentage(this.model.ownFundsPercentage),this.setPurchasePriceValue(this.model.purchasePrice),this.setOwnFundsValue(this.model.ownFunds),this.model.state){case"loading":this.onLoading(),this.hideEndNote(),this.showDefaultButton(),this.showLoadingSpinner();break;case"loanAmountTooSmall":this.onReady(),this.showEndNoteForNoLoan(),this.showButtonForNoLoan(),this.showCalculator();break;case"noData":this.onReady(),this.showCalculator(),this.hideEndNote(),this.showDefaultButton();break;case"done":this.onReady(),this.setMonthlyRate(this.model.monthlyRate),this.showEndNoteForLoan(),this.showDefaultButton();break;default:r.throwError('MonthlyRateButton.render - unknown state: "'+this.model.state+'"'),this.showDefaultButton()}}},e.exports=i},function(e,t,s){"use strict";function i(e,t,s){this.$=e,this.$element=this.$(t),this.options=s||{};var i=this;this.$element.on(o.RELOAD_DATA,function(e,t){var s=t.model,n=t.newData;a.updateValues(n.ownFunds,n.fixedNominalInterestRateNumber,n.amortizationRate),s.ownFunds=n.ownFunds,s.fixedNominalInterestRateNumber=n.fixedNominalInterestRateNumber,s.fixedNominalInterestRate=a.mapFixedNominalInterestRateNumber(n.fixedNominalInterestRateNumber),s.amortizationRate=n.amortizationRate,s.loanAmount=null,s=i.ensureOwnFundsPercentage(s),s=i.useDefaultsForMissingValues(s),i.loadData(s)})}var a=s(12),n=s(2),o=s(4),r=s(3),c=s(1),l=20,d=15;i.prototype={getEventRegistry:function(){return this.$element},start:function(){var e=this.createDataModel();this.loadData(e)},loadData:function(e){var t=this;e.state="loading",t.$element.trigger(o.LOADING_DATA,e),t.loadMonthlyRate(e,function(e){t.$element.trigger(o.DATA_LOADED,e)})},createDataModel:function(){var e=a.getValues(),t=this.$element.data("has-courtage"),s={state:"loading",monthlyRate:null,financingType:"PROPERTY_PURCHASE",exposeId:this.$element.data("expose-id")||this.options.exposeId,purchasePrice:this.$element.data("purchase-price")||this.options.purchasePrice,geoCode:this.$element.data("geo-code")||this.options.geoCode,hasCourtage:"undefined"!=typeof t?r.isTruthy(t):this.options.hasCourtage,buttonUrl:this.$element.data("button-url")||this.options.buttonUrl,city:this.$element.data("city")||this.options.city,postcode:this.$element.data("postcode")||this.options.postcode,region:this.$element.data("region")||this.options.region,employment:e.employment,amortizationRate:e.amortizationRate,fixedNominalInterestRate:e.fixedNominalInterestRate,fixedNominalInterestRateNumber:e.fixedNominalInterestRateNumber,ownFunds:e.ownFunds,additionalCosts:{total:{sum:0,percent:0}}};try{s.purchasePrice>0&&(s.purchasePrice=parseInt(s.purchasePrice))}catch(e){n.throwError('could not parse purchasePrice: "'+s.purchasePrice+'"',"warn")}return s.exposeId>0||s.purchasePrice>0||(n.throwError("no purchasePrice/exposeId or below 0","warn"),s.purchasePrice=0),s.purchasePrice>0&&!s.ownFunds&&(s.ownFunds=s.purchasePrice*l/100),s=this.ensureOwnFundsPercentage(s)},loadMonthlyRate:function(e,t){var s=this;setTimeout(function(){s.requestMonthlyRate(e).then(function(i){i=i||{},t(s.updateModel(e,i))},function(i){var a;a=i instanceof TypeError?i.message:i.responseJSON&&i.responseJSON.message&&i.responseJSON.message.length>0?i.responseJSON.message[0].messageCode:JSON.stringify(i),e.errorLoadingMonthlyRate=!0,e=s.ensureOwnFundsPercentage(e),e=s.useDefaultsForMissingValues(e),t(s.updateStateOnError(e,a))})},350)},requestMonthlyRate:function(e){var t={exposeId:e.exposeId,purchasePrice:e.purchasePrice,hasCourtage:e.hasCourtage,geoCode:e.geoCode,employment:e.employment,amortizationRate:e.amortizationRate,fixedNominalInterestRate:e.fixedNominalInterestRate,ownFunds:e.ownFunds,ignoreSmallLoanAmounts:!0},s=c.getMonthlyRateApiUrl();return this.$.getJSON(s,t)},updateModel:function(e,t){return e.state="done",e.averageInterestRate=t.averageInterestRate,e.effectiveInterestRate=t.effectiveInterestRate,e.monthlyRate=t.monthlyRate,t.additionalCosts&&(e.additionalCosts.total.sum=t.additionalCosts.total,e.additionalCosts.total.percent=t.additionalCosts.totalPercent,e.additionalCosts.brokerCommission=t.additionalCosts.brokerCommission,e.additionalCosts.brokerCommissionPercent=t.additionalCosts.brokerCommissionPercentage,e.additionalCosts.landTransfer=t.additionalCosts.landTransfer,e.additionalCosts.landTransferPercent=t.additionalCosts.landTransferPercentage,e.additionalCosts.notaryCosts=t.additionalCosts.notaryCosts,e.additionalCosts.notaryCostsPercent=t.additionalCosts.notaryCostsPercentage,e.additionalCosts.entryLandRegister=t.additionalCosts.entryLandRegister,e.additionalCosts.entryLandRegisterPercent=t.additionalCosts.entryLandRegisterPercentage),e.loanAmount=t.loanAmount,e.purchasePrice=t.purchasePrice,t.ownFunds&&(e.ownFunds=t.ownFunds.total,e.ownFundsPercentage=t.ownFunds.totalPercent),t.error&&(e=this.updateStateOnError(e,t.error)),e=this.useDefaultsForMissingValues(e)},updateStateOnError:function(e,t,s){switch(t){case"ERROR_LOAN_AMOUNT_TO_SMALL":e.state="loanAmountTooSmall";break;case"ERROR_EXPOSE_NOT_FOUND":case"ERROR_MARKET_DATA_NOT_FOUND":e.state="noData";break;default:s=s||t,n.throwError("could not load MonthlyRate: "+JSON.stringify(s)),e.state="noData"}return e},ensureOwnFundsPercentage:function(e){return(!e.ownFundsPercentage||e.ownFundsPercentage<0)&&e.purchasePrice>0&&e.ownFunds>=0&&(e.ownFundsPercentage=Math.round(100*e.ownFunds/e.purchasePrice)),e},useDefaultsForMissingValues:function(e){return!e.purchasePrice||e.purchasePrice<=0?e:(e.additionalCosts.total.sum||(e.additionalCosts.total.percent=d,e.additionalCosts.total.sum=e.purchasePrice*d/100),(!e.loanAmount||e.loanAmount<=0)&&(e.loanAmount=e.purchasePrice+e.additionalCosts.total.sum-e.ownFunds),e)}},e.exports=i},function(e,t){e.exports='<div class="cost-offers-widget grid grid-flex grid-justify-space-between"> <div class="cost-container palm-one-whole"> <div class=text> <h4 class=cost-header>Kaufnebenkosten</h4> <p class="cost-sub-header font-s"> Nebenkosten sollten in der Regel durch Eigenmittel finanziert werden. </p> </div> <div class="cost-spinner show-while-loading align-center margin-xl padding-xl"> <div class=font-xl><i class="fa fa-spinner fa-spin"></i></div> <div>Kosten werden ermittelt</div> </div> <div class="cost-chart hide-while-loading grid grid-flex"> <div class="cost-chart-bar grid init grid-flex"> <div> <div class=caption> <div class=align-right> <div class="font-xs font-lightgray">Kaufpreis</div> <span class="purchase-price-value font-ms font-semibold"></span> </div> </div> </div> <div class=cost-chart-broker-commission></div> <div class=cost-chart-land-transfer-tax></div> <div></div> <div> <div class=caption> <div class=align-right> <div class="font-xs font-lightgray">Nebenkosten <span class=additional-costs-percentage></span>&nbsp;%</div> <span class="additional-costs-value font-ms font-semibold"></span> </div> </div> </div> </div> </div> <div class="no-costs-hint align-center font-lightgray margin-top-xl margin-bottom-xl font-s hide"> <p>Die genauen Nebenkosten konnten nicht ermittelt werden, es wurden pauschal 15&nbsp;% Nebenkosten angenommen.</p> </div> <div class="cost-chart-legend hide-while-loading"> <ul class="grid grid-flex grid-justify"> <li> <span class=comission-title>Maklerprovision</span> <span class=comission-value><span class=broker-commission-value></span><span class=broker-commission-percentage></span>&nbsp;%</span> </li> <li> <span class=comission-title>Grunderwerbssteuer</span> <span class=comission-value><span class=land-transfer-value></span><span class=land-transfer-percentage></span>&nbsp;%</span> </li> <li> <span class=comission-title>Notarkosten</span> <span class=comission-value><span class=notary-costs-value></span><span class=notary-costs-percentage></span>&nbsp;%</span> </li> <li> <span class=comission-title>Grundbucheintrag</span> <span class=comission-value><span class=entry-land-register-value></span><span class=entry-land-register-percentage></span>&nbsp;%</span> </li> </ul> </div> <div class="cost-total hide-while-loading align-right border-top margin-top-s padding-top-s"> <span class="font-ms font-semibold">Gesamtkosten <span class=total-costs-value></span></span> </div> </div> <div class="desk-hide lap-hide one-whole padding">&nbsp;</div> <div class="offers-container palm-one-whole"> <h4 class=cost-header>Passende&nbsp;Finanzierungspartner</h4> <div class=offers-content> <p class="offers-sub-header font-s"> <span>Eigenkapital&nbsp;<span class=own-funds-value></span>; </span> <span class=hide-while-loading>Nettodarlehen&nbsp;<span class=loan-amount></span>; </span> <span>Tilgung&nbsp;<span class=amortization-rate></span>&nbsp;%; </span> <span class=margin-right-s>Sollzinsbindung&nbsp;<span class=fixed-nominal-interest-rate></span>&nbsp;Jahre </span> <span class=with-icon><a class=change-financing-data-link href=#><span class="is24-icon-edit core-hide"></span>Anpassen</a></span> </p> <div class="offers-spinner show-while-loading align-center margin-xl padding-xl"> <div class=font-xl><i class="fa fa-spinner fa-spin"></i></div> <div>Finanzierungspartner werden geladen</div> </div> <div class="offers-entries hide-while-loading"></div> <div class="no-offer-entries align-center margin-top-xl font-s hide"> <p class="no-offer-found-text font-lightgray"> Zu Ihrer Suche wurden keine passenden Anbieter gefunden. Nutzen Sie den Finanzierungsrechner für die detaillierte Suche. </p> <div class="average-rates hide"> <div class=font-m>Durchschnittliche Marktdaten</div> <div class=grid-flex> <div class=one-half> <p class=font-lightgray>Monatsrate</p> </div> <div class=one-half> <p class=font-lightgray>Eff. Jahreszins</p> </div> <div class=one-half> <p class=average-rates-monthly-rate></p> </div> <div class=one-half> <p><span class=average-rates-effective-interest-rate></span> %</p> </div> </div> </div> <a class="button margin-top-l" href=/baufinanzierung/finanzierungsrechner/ > <span style=position:relative;top:1px class="is24-icon-calculator font-xl"></span> <span style=position:relative;top:-4px>Finanzierungsrechner</span> </a> </div> </div> <div class="financing-data-edit-layer hide grid-flex grid-justify-center"> <div class="one-whole margin-bottom-s align-right"><i class="fa fa-times closer"></i></div> <div class="number-input own-funds-input grid-flex grid-justify-stretch flex-nowrap"> <button type=button class=minus><i class="fa fa-minus"></i></button> <div class="align-center one-whole value-box"> <div class="font-xs one-whole font-lightgray">Eigenkapital</div> <div class="one-whole font-ms font-semibold"><span class=value></span> €</div> </div> <button type=button class=plus><i class="fa fa-plus"></i></button> </div> <div class="number-input fixed-nominal-interest-rate-input grid-flex grid-justify-stretch flex-nowrap"> <button type=button class=minus><i class="fa fa-minus"></i></button> <div class="align-center one-whole value-box"> <div class="font-xs one-whole font-lightgray">Sollzinsbindung</div> <div class="one-whole font-ms font-semibold"><span class=value></span> Jahre</div> </div> <button type=button class=plus><i class="fa fa-plus"></i></button> </div> <div class="number-input amortization-rate-input grid-flex grid-justify-stretch flex-nowrap"> <button type=button class=minus><i class="fa fa-minus"></i></button> <div class="align-center one-whole value-box"> <div class="font-xs one-whole font-lightgray">Tilgungsrate</div> <div class="one-whole font-ms font-semibold"><span class=value></span> %</div> </div> <button type=button class=plus><i class="fa fa-plus"></i></button> </div> <a class=save-financing-data-link href=#>Einstellungen übernehmen</a> </div> </div> </div> ';
},function(e,t){e.exports='<div class=offer> <a href=""> <span class=provider-logo></span> <span> <span class="font-xs font-lightgray">Monatsrate</span> <br> <span class=monthly-rate-value></span> </span> <span> <span class="font-xs font-lightgray">Eff. Jahreszins</span> <br> <span class=interest-rate><span class=effective-interest-rate></span>&nbsp;%</span> </span> <span class="align-right cosma-hide"> <i class="fa fa-chevron-right"></i> </span> </a> <span class="grid grid-flex grid-justify-space-between grid-align-center"> <span> <span class="rating-stars margin-left-xs"> <span class=front-stars style=width:75%> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> </span> <span class=back-stars> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> </span> </span> <span class="font-lightgray font-xs number-of-ratings"></span> </span> <span class="font-lightgray footnote font-xs cursor-pointer" data-placement=bottom data-toggle=popover data-content="">Repräsentatives Beispiel <i class="cosma-hide fa fa-info-circle font-lightgray padding-right"></i><i class="core-hide is24-icon-warning"></i></span> </span> </div> '},function(e,t){e.exports='<div class=offer> <a href=""> <span class=provider-logo></span> <span> <span class="font-xs font-lightgray">Darlehensbetrag</span> <br> <span class="font-ms font-semibold loan-amount"></span> </span> <span class="align-right cosma-hide"> <i class="fa fa-chevron-right"></i> </span> </a> <span class="grid grid-flex grid-justify-space-between grid-align-center"> <span> <span class="rating-stars margin-left-xs"> <span class=front-stars style=width:75%> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="fa fa-star cosma-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> <i class="is24-icon-rating-state-3 core-hide"></i> </span> <span class=back-stars> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="fa fa-star-o cosma-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> <i class="is24-icon-rating-state-1 core-hide"></i> </span> </span> <span class="font-lightgray font-xs number-of-ratings"></span> </span> <span class="font-lightgray footnote font-xs padding-right cursor-pointer" data-placement=bottom data-toggle=popover data-content="Für Darlehen bis 50.000 EUR gelten in der Regel gesonderte Konditionen. Bitte erfragen Sie diese beim Anbieter.">Hinweis <i class="fa fa-info-circle font-lightgray"></i></span> </span> </div> '},function(e,t){e.exports='.cost-offers-widget .core-hide,[data-theme=core] .cost-offers-widget .core-hide,[data-theme=cosma] .cost-offers-widget .cosma-hide{display:none}[data-theme=cosma] .cost-offers-widget .core-hide{display:inline-block}.cost-offers-widget .cosma-hide,[data-theme=core] .cost-offers-widget .cosma-hide{display:inline-block}.cost-offers-widget h4{line-height:3.2rem}.cost-offers-widget h4,[data-theme="core"] .cost-offers-widget h4{margin-bottom:.4em}[data-theme="cosma"] .cost-offers-widget h4{margin-bottom:4px}.cost-offers-widget h4.cost-header{font-size:1.4rem;line-height:1.43}.cost-offers-widget h4.cost-header,[data-theme="core"] .cost-offers-widget h4.cost-header{font-weight:600}[data-theme="cosma"] .cost-offers-widget h4.cost-header{font-weight:400}.cost-offers-widget h4.cost-header,[data-theme="core"] .cost-offers-widget h4.cost-header{margin-bottom:0}[data-theme="cosma"] .cost-offers-widget h4.cost-header{margin-bottom:4px}.cost-offers-widget.init .cost-chart .cost-chart-bar{width:100%}.cost-offers-widget.init .cost-chart .cost-chart-bar .caption{opacity:1}.cost-offers-widget.init .cost-chart-legend{opacity:1}.cost-offers-widget .cost-container,.cost-offers-widget .offers-container{width:48%}.cost-offers-widget .cost-container .change-financing-data-link>span,.cost-offers-widget .offers-container .change-financing-data-link>span{margin-right:4px}.cost-offers-widget .cost-chart .cost-chart-bar{align-items:stretch;flex-wrap:nowrap;padding-top:40px;width:0;transition:width 500ms ease}.cost-offers-widget .cost-chart .cost-chart-bar>div{height:15px;position:relative}.cost-offers-widget .cost-chart .cost-chart-bar>div .caption{opacity:0;top:-40px;right:-1px;min-width:120px;transition:opacity 500ms ease 250ms;position:absolute;padding-right:5px;padding-bottom:1px;border-right:1px solid #e0e0e0}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(1){width:100%;max-width:60%;min-width:50%;border-right:1px solid white;border-radius:4px 0 0 4px}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(1),[data-theme="core"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(1){background:#ebebeb}[data-theme="cosma"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(1){background:#e0e0e0}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(2){width:14%}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(2),[data-theme="core"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(2){background:#003468}[data-theme="cosma"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(2){background:#00a6fa}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(3){width:12%}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(3),[data-theme="core"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(3){background:#355E84}[data-theme="cosma"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(3){background:#00e1a6}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(4){flex:1 1;min-width:4%}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(4),[data-theme="core"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(4){background:#7490AB}[data-theme="cosma"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(4){background:#828df9}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(5){flex:1 1;min-width:2%;border-radius:0 4px 4px 0}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(5),[data-theme="core"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(5){background:#B3C2D0}[data-theme="cosma"] .cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(5){background:#cbf425}.cost-offers-widget .cost-chart .cost-chart-bar>div:nth-child(5) .caption{right:0}.cost-offers-widget .cost-chart-legend{opacity:0;padding:5px;transition:opacity 500ms ease 250ms}.cost-offers-widget .cost-chart-legend,[data-theme="core"] .cost-offers-widget .cost-chart-legend{margin-top:5px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend{margin-top:12px}.cost-offers-widget .cost-chart-legend,[data-theme="core"] .cost-offers-widget .cost-chart-legend{padding:5px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend{padding:6px 0}.cost-offers-widget .cost-chart-legend li{flex-direction:row;flex-wrap:nowrap;line-height:16px;position:relative}.cost-offers-widget .cost-chart-legend li,[data-theme="core"] .cost-offers-widget .cost-chart-legend li{display:list-item}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li{display:flex}.cost-offers-widget .cost-chart-legend li,[data-theme="core"] .cost-offers-widget .cost-chart-legend li{flex:1 1}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li{flex:1 0 100%}.cost-offers-widget .cost-chart-legend li,[data-theme="core"] .cost-offers-widget .cost-chart-legend li{justify-content:flex-start}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li{justify-content:space-between}.cost-offers-widget .cost-chart-legend li,[data-theme="core"] .cost-offers-widget .cost-chart-legend li{min-width:120px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li{min-width:100%}.cost-offers-widget .cost-chart-legend li,[data-theme="core"] .cost-offers-widget .cost-chart-legend li{padding:5px 10px 10px 15px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li{padding:0 0 13px 28px}.cost-offers-widget .cost-chart-legend li::before{content:"";display:inline-block;left:0;position:absolute;border-radius:4px}.cost-offers-widget .cost-chart-legend li::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li::before{height:9px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li::before{height:12px}.cost-offers-widget .cost-chart-legend li::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li::before{width:9px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li::before{width:12px}.cost-offers-widget .cost-chart-legend li::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li::before{top:9px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li::before{top:2px}.cost-offers-widget .cost-chart-legend li:first-child::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li:first-child::before{background:#003468}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li:first-child::before{background:#00a6fa}.cost-offers-widget .cost-chart-legend li:nth-child(2)::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li:nth-child(2)::before{background:#355E84}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li:nth-child(2)::before{background:#00e1a6}.cost-offers-widget .cost-chart-legend li:nth-child(3)::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li:nth-child(3)::before{background:#7490AB}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li:nth-child(3)::before{background:#828df9}.cost-offers-widget .cost-chart-legend li:last-child::before,[data-theme="core"] .cost-offers-widget .cost-chart-legend li:last-child::before{background:#B3C2D0}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li:last-child::before{background:#cbf425}.cost-offers-widget .cost-chart-legend li .comission-title,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .comission-title{font-size:1.2rem}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .comission-title{font-size:1.4rem}.cost-offers-widget .cost-chart-legend li .comission-title,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .comission-title{color:#757575}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .comission-title{color:#333333}.cost-offers-widget .cost-chart-legend li .comission-title,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .comission-title{display:block}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .comission-title{display:inline-flex}.cost-offers-widget .cost-chart-legend li .comission-title,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .comission-title{width:auto}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .comission-title{width:170px}.cost-offers-widget .cost-chart-legend li .comission-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .comission-value{display:block}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .comission-value{display:inline-flex}.cost-offers-widget .cost-chart-legend li .notary-costs-value,.cost-offers-widget .cost-chart-legend li .land-transfer-value,.cost-offers-widget .cost-chart-legend li .broker-commission-value,.cost-offers-widget .cost-chart-legend li .entry-land-register-value{display:inline-block;font-size:1.4rem}.cost-offers-widget .cost-chart-legend li .notary-costs-value,.cost-offers-widget .cost-chart-legend li .land-transfer-value,.cost-offers-widget .cost-chart-legend li .broker-commission-value,.cost-offers-widget .cost-chart-legend li .entry-land-register-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{margin-right:10px}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{margin-right:0}.cost-offers-widget .cost-chart-legend li .notary-costs-value,.cost-offers-widget .cost-chart-legend li .land-transfer-value,.cost-offers-widget .cost-chart-legend li .broker-commission-value,.cost-offers-widget .cost-chart-legend li .entry-land-register-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{width:auto}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{width:80px}.cost-offers-widget .cost-chart-legend li .notary-costs-value,.cost-offers-widget .cost-chart-legend li .land-transfer-value,.cost-offers-widget .cost-chart-legend li .broker-commission-value,.cost-offers-widget .cost-chart-legend li .entry-land-register-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{font-weight:600}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{font-weight:400}.cost-offers-widget .cost-chart-legend li .notary-costs-value,.cost-offers-widget .cost-chart-legend li .land-transfer-value,.cost-offers-widget .cost-chart-legend li .broker-commission-value,.cost-offers-widget .cost-chart-legend li .entry-land-register-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{order:0}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{order:2}.cost-offers-widget .cost-chart-legend li .notary-costs-value,.cost-offers-widget .cost-chart-legend li .land-transfer-value,.cost-offers-widget .cost-chart-legend li .broker-commission-value,.cost-offers-widget .cost-chart-legend li .entry-land-register-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="core"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{text-align:left}[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .notary-costs-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .land-transfer-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .broker-commission-value,[data-theme="cosma"] .cost-offers-widget .cost-chart-legend li .entry-land-register-value{text-align:right}.cost-offers-widget .cost-chart-legend li .notary-costs-percentage,.cost-offers-widget .cost-chart-legend li .land-transfer-percentage,.cost-offers-widget .cost-chart-legend li .broker-commission-percentage,.cost-offers-widget .cost-chart-legend li .entry-land-register-percentage{display:inline-block;font-size:1.4rem}.cost-offers-widget .offers-entries .offer,[data-theme="core"] .cost-offers-widget .offers-entries .offer{margin-bottom:13px}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer{margin-bottom:0}.cost-offers-widget .offers-entries .offer,[data-theme="core"] .cost-offers-widget .offers-entries .offer{padding-bottom:0}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer{padding-bottom:16px}.cost-offers-widget .offers-entries .offer,[data-theme="core"] .cost-offers-widget .offers-entries .offer{border-bottom:none}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer{border-bottom:1px solid #e0e0e0}.cost-offers-widget .offers-entries .offer img{max-height:35px;max-width:75px}.cost-offers-widget .offers-entries .offer a{display:flex;justify-content:space-between;align-items:center;text-decoration:none}.cost-offers-widget .offers-entries .offer a,[data-theme="core"] .cost-offers-widget .offers-entries .offer a{color:#343434}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a{color:#333333}.cost-offers-widget .offers-entries .offer a,[data-theme="core"] .cost-offers-widget .offers-entries .offer a{margin-top:0}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a{margin-top:10px}.cost-offers-widget .offers-entries .offer a,[data-theme="core"] .cost-offers-widget .offers-entries .offer a{margin-bottom:0}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a{margin-bottom:18px}.cost-offers-widget .offers-entries .offer a,[data-theme="core"] .cost-offers-widget .offers-entries .offer a{height:45px}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a{height:35px}.cost-offers-widget .offers-entries .offer a,[data-theme="core"] .cost-offers-widget .offers-entries .offer a{background:#f6f6f6}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a{background:transparent}.cost-offers-widget .offers-entries .offer a:hover{text-decoration:none}.cost-offers-widget .offers-entries .offer a:hover,[data-theme="core"] .cost-offers-widget .offers-entries .offer a:hover{color:#343434}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a:hover{color:#333333}.cost-offers-widget .offers-entries .offer a:hover,[data-theme="core"] .cost-offers-widget .offers-entries .offer a:hover{background:#f1f1f1}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a:hover{background:transparent}.cost-offers-widget .offers-entries .offer a:hover i,[data-theme="core"] .cost-offers-widget .offers-entries .offer a:hover i{color:#343434 !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a:hover i{color:#8f8f8f !important}.cost-offers-widget .offers-entries .offer a:hover i,[data-theme="core"] .cost-offers-widget .offers-entries .offer a:hover i{font-size:2.5rem}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a:hover i{font-size:1.6rem}.cost-offers-widget .offers-entries .offer a>span:not(.cosma-hide){display:inline-block}.cost-offers-widget .offers-entries .offer a>span{line-height:14px}.cost-offers-widget .offers-entries .offer a>span:first-child{text-align:center;display:inline-flex;align-items:center;justify-content:center;min-width:100px}.cost-offers-widget .offers-entries .offer a i{margin-right:15px}.cost-offers-widget .offers-entries .offer a i,[data-theme="core"] .cost-offers-widget .offers-entries .offer a i{font-size:2.5rem}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a i{font-size:1.6rem}.cost-offers-widget .offers-entries .offer a i,[data-theme="core"] .cost-offers-widget .offers-entries .offer a i{color:#747474 !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a i{color:#8f8f8f !important}.cost-offers-widget .offers-entries .offer a .interest-rate,.cost-offers-widget .offers-entries .offer a .monthly-rate-value,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{display:inline !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{display:inline-block !important}.cost-offers-widget .offers-entries .offer a .interest-rate,.cost-offers-widget .offers-entries .offer a .monthly-rate-value,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{margin-top:0 !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{margin-top:3px !important}.cost-offers-widget .offers-entries .offer a .interest-rate,.cost-offers-widget .offers-entries .offer a .monthly-rate-value,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{font-size:1.4rem !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{font-size:1.8rem !important}.cost-offers-widget .offers-entries .offer a .interest-rate,.cost-offers-widget .offers-entries .offer a .monthly-rate-value,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{font-weight:600 !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{font-weight:400 !important}.cost-offers-widget .offers-entries .offer a .interest-rate,.cost-offers-widget .offers-entries .offer a .monthly-rate-value,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="core"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{line-height:1.4rem !important}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .interest-rate,[data-theme="cosma"] .cost-offers-widget .offers-entries .offer a .monthly-rate-value{line-height:1.22 !important}.cost-offers-widget .offers-entries .offer:first-child,[data-theme="core"] .cost-offers-widget .offers-entries .offer:first-child{margin-top:0}[data-theme="cosma"] .cost-offers-widget .offers-entries .offer:first-child{margin-top:10px}@media (min-width: 669px){.cost-offers-widget .offers-entries>div:last-child{border-bottom:none !important}}.cost-offers-widget .offers-entries .external-offer{padding-bottom:10px;margin-bottom:3px}.cost-offers-widget .offers-entries .external-offer img{max-height:45px;max-width:100px}.cost-offers-widget .offers-entries .external-offer .values{color:#343434;display:flex;height:45px;justify-content:space-between;align-items:center}.cost-offers-widget .offers-entries .external-offer .values>span{line-height:14px;display:inline-block}.cost-offers-widget .offers-entries .external-offer .values>span:first-child{text-align:center;display:inline-flex;align-items:center;justify-content:center;min-width:100px}.cost-offers-widget .offers-entries .external-offer .values i{font-size:30px;color:#747474;margin-right:15px}.cost-offers-widget .financing-data-edit-layer{background-color:#f6f6f6;padding:15px;border:1px solid #e0e0e0;margin-bottom:11px}.cost-offers-widget .financing-data-edit-layer .closer{cursor:pointer;font-size:19px}.cost-offers-widget div.number-input{height:52px;width:100%;margin-bottom:15px}.cost-offers-widget div.number-input>*{border:1px solid #e0e0e0;height:100%;display:inline-flex;align-items:center;justify-content:center}.cost-offers-widget div.number-input>div{width:100%;border-right:none;border-left:none}.cost-offers-widget div.number-input button{width:44px;flex-shrink:0;color:inherit;background:white;text-decoration:none !important;outline:none;cursor:pointer}.cost-offers-widget div.number-input button:focus{color:#FF7500}.cost-offers-widget div.number-input button.disabled{cursor:default;color:#cacaca}.cost-offers-widget div.number-input button i{height:11px}.cost-offers-widget div.number-input .value-box{background:white;flex-wrap:wrap;align-content:center}.cost-offers-widget .flex-nowrap{flex-wrap:nowrap}.cost-offers-widget .rating-stars{font-size:1em;color:#F7C820;white-space:nowrap;position:relative;display:inline-block;width:4.5em;height:.8em;text-align:left;line-height:0}.cost-offers-widget .rating-stars .front-stars,.cost-offers-widget .rating-stars .back-stars{width:100%;left:0;top:0;background:none;position:absolute}.cost-offers-widget .rating-stars .front-stars i:not(:first-child),.cost-offers-widget .rating-stars .back-stars i:not(:first-child){margin-left:-0.3em}.cost-offers-widget .rating-stars .front-stars{z-index:4;overflow:hidden}.cost-offers-widget .rating-stars.score-0{color:#747474}'},function(e,t,s){var i=s(18);"string"==typeof i&&(i=[[e.id,i,""]]);s(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,s){"use strict";var i=s(1),a=s(11),n=s(13),o=s(22),r=s(14),c=s(27),l=s(2),d="monthly-rate-widget",f="finance-cost-offers-widget";a.ensureJQuery(function(){var e=window.jQuery;(i.isEnabled(d)||i.isEnabled(f))&&(l.addErrorListener(e,"CombinedExposeWidgets"),a.baufiFeatureSwitches(function(t,s){e(document).ready(function(){var a=new c(t,s),l=e("."+d)[0];if(l){var h=new r(e,l);i.isEnabled(d)&&new n(e,l,h.getEventRegistry());var g=e("."+f);g.length>0&&i.isEnabled(f)&&new o(e,g[0],h.getEventRegistry(),a),h.start()}})}))})},function(e,t){"use strict";function s(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(e,t){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],n=0;n<a.length;n++){var o=a[n].split("="),r=o.slice(1).join("=");t||'"'!==r.charAt(0)||(r=r.slice(1,-1));try{var c=s(o[0]);if(r=s(r),t)try{r=JSON.parse(r)}catch(e){}if(i[c]=r,e===c)break}catch(e){}}return e?i[e]:i}}e.exports={get:function(e){return i(e,!1)},getJSON:function(e){return i(e,!0)}}},function(e,t,s){"use strict";function i(e,t,s,i){var l=e(t);if("object"==typeof l){var d=l.data("costAndOffersWidget");if(d)return d;l.data("costAndOffersWidget",this)}this.isExclusiveExpose=c.isTruthy(l.data("exclusive")||"false"),r.track({evt_ga_category:"finance",evt_ga_action:"exposewidget",evt_ga_label:"shown"});var f=new n(e),h=new a(e,t,s,i,this.isExclusiveExpose),g={},u="loading",m=0;s.on(o.LOADING_DATA,function(t,s){e.extend(!0,g,s,{state:u}),h.render(g)}),s.on(o.DATA_LOADED,function(t,s){g.loanAmountTooSmall="loanAmountTooSmall"===s.state,u="costs",e.extend(!0,g,s,{state:u}),h.render(g),m+=1;var i=m;f.loadOffers(g,function(e){i===m&&(u="offers",g.state=u,g.offers=e,h.render(g))})}),s.on(o.FINANCING_DATA_UPDATED,function(e,t){g.ownFunds===t.ownFunds&&g.fixedNominalInterestRateNumber===t.fixedNominalInterestRateNumber&&g.amortizationRate===t.amortizationRate||(r.track({evt_ga_category:"finance",evt_ga_action:"exposewidget",evt_ga_label:"filter"}),u="costs",s.trigger(o.RELOAD_DATA,{model:g,newData:t}))})}var a=s(23),n=s(26),o=s(4),r=s(6),c=s(3);e.exports=i},function(e,t,s){"use strict";function i(e,t,s,i,a){this.$=e,this.$element=this.$(t),this.eventRegistry=s,this.featureSwitchService=i,this.isExclusiveExpose=a,this.$widgetBox=null,this.locationService=new r(e),this.view=d,this.trackingComparisonCmpId=this.$element.data("tracking-comparison-cmp-id")||"10-04093",this.trackingCalculatorCmpId=this.$element.data("tracking-calc-cmp-id")||"10-04099",this.trackingProfileCmpId=this.$element.data("tracking-profile-cmp-id")||"10-04094",this.trackingCmpPosition=this.$element.data("tracking-cmp-position")||"residential_expose",this.trackingCmpCreative=this.$element.data("tracking-cmp-creative")||"mortage_cost_widget"}var a=s(3),n=s(1),o=s(2),r=s(24),c=s(4),l=s(25),d=s(15),f=s(16),h=s(17);s(19),i.prototype={prepareDom:function(){0===this.$element.find(".cost-offers-widget").length&&(this.$element.append(this.$(this.view)),this.$widgetBox=this.$element.find(".cost-offers-widget"),this.$costChartLegend=this.$element.find(".cost-chart-legend"),this.$costChartBrokerCommission=this.$element.find(".cost-chart-broker-commission"),this.$costChartLandTransferTax=this.$element.find(".cost-chart-land-transfer-tax"),this.$noCostsHint=this.$element.find(".no-costs-hint"),this.$purchasePriceValue=this.$element.find(".purchase-price-value"),this.$additionalCostsPercentage=this.$element.find(".additional-costs-percentage"),this.$additionalCostsValue=this.$element.find(".additional-costs-value"),this.$brokerCommissionPercentage=this.$element.find(".broker-commission-percentage"),this.$brokerCommissionValue=this.$element.find(".broker-commission-value"),this.$landTransferPercentage=this.$element.find(".land-transfer-percentage"),this.$landTransferValue=this.$element.find(".land-transfer-value"),this.$notaryCostsPercentage=this.$element.find(".notary-costs-percentage"),this.$notaryCostsValue=this.$element.find(".notary-costs-value"),this.$entryLandRegisterPercentage=this.$element.find(".entry-land-register-percentage"),this.$entryLandRegisterValue=this.$element.find(".entry-land-register-value"),this.$totalCostsValue=this.$element.find(".total-costs-value"),this.$ownFundsValue=this.$element.find(".own-funds-value"),this.$loanAmount=this.$element.find(".loan-amount"),this.$amortizationRate=this.$element.find(".amortization-rate"),this.$fixedNominalInterestRate=this.$element.find(".fixed-nominal-interest-rate"),this.$changeFinancingDataLink=this.$element.find(".change-financing-data-link"),this.$saveFinancingDataLink=this.$element.find(".save-financing-data-link"),this.$closeFinancingDataLink=this.$element.find(".closer"),this.$offersContent=this.$element.find(".offers-content"),this.$offersEntries=this.$element.find(".offers-entries"),this.$noOfferEntries=this.$element.find(".no-offer-entries"),this.$financingDataEditLayer=this.$element.find(".financing-data-edit-layer"),this.ownFundsInput=new l(this.$,this.$element.find(".own-funds-input"),"ownFunds"),this.fixedNominalInterestRateInput=new l(this.$,this.$element.find(".fixed-nominal-interest-rate-input"),"fixedNominalInterestRate"),this.amortizationRateInput=new l(this.$,this.$element.find(".amortization-rate-input"),"amortizationRate"));
},getUrlParams:function(e,t){return{providerId:e||"",trackingCmpId:t||"",trackingCmpPosition:this.trackingCmpPosition||"",trackingCmpCreative:this.trackingCmpCreative||"",exposeId:this.model.exposeId||""}},getFinancingParams:function(e){var t={financingType:this.model.financingType,purchasePrice:this.model.purchasePrice,ownFunds:this.model.ownFunds,additionalCosts:this.model.additionalCosts.total.sum,amortizationRate:this.model.amortizationRate,employment:this.model.employment,fixedNominalInterestRate:this.model.fixedNominalInterestRate,geoCode:this.model.geoCode,searchLabel:e||this.model.city,brokerCommissionPercent:this.model.hasCourtage?this.model.additionalCosts.brokerCommissionPercent:0};return this.$.param(t)},getComparisonPageUrl:function(e){var t=n.getProviderComparisonUrl(this.getUrlParams("",this.trackingComparisonCmpId));return t+="&"+this.getFinancingParams(e)},getProfilePageUrl:function(e,t){var s=n.getProviderProfileUrl(this.getUrlParams(e,this.trackingProfileCmpId));return s+="&"+this.getFinancingParams(t)},setCurrencyOnElement:function(e,t){t="undefined"==typeof t||"NaN"===t?"-,--&nbsp;€":a.formatCurrency(t),e.html(t)},setPercentageOnElement:function(e,t){t=isNaN(t)?parseInt(t)||0:Math.max(0,t),e.text(t)},onLoading:function(){this.$element.find(".show-while-loading").removeClass("hide"),this.$element.find(".hide-while-loading").addClass("hide")},onReady:function(){this.$element.find(".show-while-loading").addClass("hide"),this.$element.find(".hide-while-loading").removeClass("hide"),this.$widgetBox.addClass("init")},renderFinancingData:function(){this.setCurrencyOnElement(this.$purchasePriceValue,this.model.purchasePrice),this.setCurrencyOnElement(this.$ownFundsValue,this.model.ownFunds),this.$fixedNominalInterestRate.text(this.model.fixedNominalInterestRateNumber),this.$amortizationRate.text(a.formatRate(this.model.amortizationRate,1)),this.addClickListener(this.$changeFinancingDataLink,this.showFinancingDataEditLayer),this.addClickListener(this.$saveFinancingDataLink,this.updateFinancingData),this.addClickListener(this.$closeFinancingDataLink,this.closeFinancingDataEditLayer)},showFinancingDataEditLayer:function(e){e.ownFundsInput.init(e.model.ownFunds),e.fixedNominalInterestRateInput.init(e.model.fixedNominalInterestRateNumber),e.amortizationRateInput.init(e.model.amortizationRate),e.$offersContent.addClass("hide"),e.$financingDataEditLayer.removeClass("hide")},updateFinancingData:function(e){var t={ownFunds:e.ownFundsInput.getValue(),fixedNominalInterestRateNumber:e.fixedNominalInterestRateInput.getValue(),amortizationRate:e.amortizationRateInput.getValue()};e.eventRegistry.trigger(c.FINANCING_DATA_UPDATED,t),e.closeFinancingDataEditLayer(e)},closeFinancingDataEditLayer:function(e){e.$offersContent.removeClass("hide"),e.$financingDataEditLayer.addClass("hide")},renderCosts:function(){if(this.setCurrencyOnElement(this.$additionalCostsValue,this.model.additionalCosts.total.sum),this.setPercentageOnElement(this.$additionalCostsPercentage,this.model.additionalCosts.total.percent),this.setCurrencyOnElement(this.$totalCostsValue,this.model.purchasePrice+this.model.additionalCosts.total.sum),this.model.errorLoadingMonthlyRate)this.$noCostsHint.removeClass("hide"),this.$costChartLegend.addClass("hide");else{this.setCurrencyOnElement(this.$brokerCommissionValue,this.model.additionalCosts.brokerCommission),this.$brokerCommissionPercentage.text(a.formatRate(this.model.additionalCosts.brokerCommissionPercent,2)),this.setCurrencyOnElement(this.$landTransferValue,this.model.additionalCosts.landTransfer),this.$landTransferPercentage.text(a.formatRate(this.model.additionalCosts.landTransferPercent,2)),this.setCurrencyOnElement(this.$notaryCostsValue,this.model.additionalCosts.notaryCosts),this.$notaryCostsPercentage.text(a.formatRate(this.model.additionalCosts.notaryCostsPercent,2)),this.setCurrencyOnElement(this.$entryLandRegisterValue,this.model.additionalCosts.entryLandRegister),this.$entryLandRegisterPercentage.text(a.formatRate(this.model.additionalCosts.entryLandRegisterPercent,2));var e=1,t=Math.floor(this.model.additionalCosts.landTransferPercent)+16;this.model.additionalCosts.brokerCommissionPercent>1&&(e=Math.floor(this.model.additionalCosts.brokerCommissionPercent)+10,t=Math.floor(this.model.additionalCosts.landTransferPercent)+10),this.$costChartBrokerCommission.css("width",""+e+"%"),this.$costChartLandTransferTax.css("width",""+t+"%")}this.setCurrencyOnElement(this.$loanAmount,this.model.loanAmount)},addClickListener:function(e,t){var s=this;e.data("clicklistener")||(e.data("clicklistener","true"),e.on("click",function(i){if(i.stopPropagation(),i.preventDefault(),t)return $(".popover").remove(),t(s,e,i),!1;var a=e.attr("href"),n=e.data("providerId");return s.locationService.loadLocation(s.model,function(e){e&&(a=n?s.getProfilePageUrl(n,e):s.getComparisonPageUrl(e)),window.open(a,"_self")}),!1}))},renderOffers:function(){if(this.isExclusiveExpose)return this.$noOfferEntries.find("a").attr("href",n.getFinancingCalculatorUrl(this.getUrlParams("",this.trackingCalculatorCmpId))),this.$noOfferEntries.removeClass("hide"),this.$offersEntries.addClass("hide"),void(this.model.loanAmountTooSmall||!this.model.monthlyRate?(this.$noOfferEntries.find(".no-offer-found-text").removeClass("hide"),this.$noOfferEntries.find(".average-rates").addClass("hide")):(this.$noOfferEntries.find(".no-offer-found-text").addClass("hide"),this.$noOfferEntries.find(".average-rates").removeClass("hide"),this.setCurrencyOnElement(this.$noOfferEntries.find(".average-rates-monthly-rate"),this.model.monthlyRate),this.$noOfferEntries.find(".average-rates-effective-interest-rate").text(a.formatRate(this.model.effectiveInterestRate,2))));if(!this.model.offers||0===this.model.offers.length)return this.$noOfferEntries.find("a").attr("href",n.getFinancingCalculatorUrl(this.getUrlParams("",this.trackingCalculatorCmpId))),this.$noOfferEntries.removeClass("hide"),void this.$offersEntries.addClass("hide");var e=this.model.loanAmountTooSmall?h:f,t=this;this.$.each(this.model.offers,function(s,i){var n=t.$(e);n.find("a").attr("href",t.getProfilePageUrl(i.mortgageProvider.id)),t.model.loanAmountTooSmall?t.setCurrencyOnElement(n.find(".loan-amount"),t.model.loanAmount):(t.setCurrencyOnElement(n.find(".monthly-rate-value"),i.amortizationData.monthlyRate),n.find(".effective-interest-rate").text(a.formatRate(i.amortizationData.effectiveInterestRate,2)),n.find(".footnote").data("content",i.footnote)),n.find(".front-stars").css("width",""+100*i.mortgageProvider.averageRating/5+"%"),n.find(".number-of-ratings").text("("+i.mortgageProvider.numberOfRatings+")"),t.$offersEntries.append(n);var o=t.$("<img>");o.attr("src",i.mortgageProvider.logo.url),o.attr("alt",i.mortgageProvider.name),n.find(".provider-logo").append(o);var r=n.find("a");r.data("providerId",i.mortgageProvider.id),t.addClickListener(r)}),this.popoverConfigured||(this.$.popoverTrigger('[data-toggle="popover"]'),this.popoverConfigured=!0)},clearOffers:function(){this.$offersEntries.empty(),this.$noOfferEntries.addClass("hide")},render:function(e){switch(this.model=e,this.prepareDom(),this.renderFinancingData(),this.model.state){case"loading":this.onLoading();break;case"costs":this.onReady(),this.clearOffers(),this.$(".offers-spinner").removeClass("hide"),this.renderCosts();break;case"offers":this.$(".offers-spinner").addClass("hide"),this.renderOffers();break;default:o.throwError('CostAndOffersUI.render - unknown state: "'+this.model.state+'"')}}},e.exports=i},function(e,t,s){"use strict";function i(e){this.$=e}var a=s(2),n=s(1);i.prototype={loadLocation:function(e,t){var s=this,i=n.getGacApiUrl(e);s.$.ajax({type:"GET",url:i,contentType:"application/json",accept:"application/json",dataType:"json"}).then(function(s){t(s&&s.label?s.label:e.city||null)},function(s){var i="could not load location: ";i+=s instanceof TypeError?s.message:s.responseJSON&&s.responseJSON.message&&s.responseJSON.message.length>0?s.responseJSON.message[0].messageCode:JSON.stringify(s),a.throwError(i),t(e.city||null)})}},e.exports=i},function(e,t,s){"use strict";function i(e,t,s){this.$=e,this.$element=this.$(t),this.field=s,this.$value=this.$element.find(".value"),this.$minus=this.$element.find(".minus"),this.$plus=this.$element.find(".plus"),this.addClickListener(this.$minus,this.decrease),this.addClickListener(this.$plus,this.increase)}var a=s(3);i.prototype={init:function(e){this.curValue=e,this.render()},decrease:function(e){e.$minus.hasClass("disabled")||("ownFunds"===e.field&&(e.curValue%5e3>0?e.curValue-=e.curValue%5e3:e.curValue-=5e3),"amortizationRate"===e.field&&(e.curValue-=.5),"fixedNominalInterestRate"===e.field&&(e.curValue>20?e.curValue-=10:e.curValue-=5),e.render())},increase:function(e){e.$plus.hasClass("disabled")||("ownFunds"===e.field&&(e.curValue%5e3>0&&(e.curValue-=e.curValue%5e3),e.curValue+=5e3),"amortizationRate"===e.field&&(e.curValue+=.5),"fixedNominalInterestRate"===e.field&&(e.curValue<20?e.curValue+=5:e.curValue+=10),e.render())},render:function(){if("ownFunds"===this.field){var e=""+this.curValue.toFixed(1).replace(/(\d)(?=(\d{3})+\.)/g,"$1.")+"€";this.$value.text(e.replace(".0€","")),this.curValue<=0?this.$minus.addClass("disabled"):this.$minus.removeClass("disabled")}"amortizationRate"===this.field&&(this.$value.text(a.formatRate(this.curValue,1)),this.curValue<=1?this.$minus.addClass("disabled"):this.$minus.removeClass("disabled"),this.curValue>=7.5?this.$plus.addClass("disabled"):this.$plus.removeClass("disabled")),"fixedNominalInterestRate"===this.field&&(this.$value.text(this.curValue),5===this.curValue?this.$minus.addClass("disabled"):this.$minus.removeClass("disabled"),40===this.curValue?this.$plus.addClass("disabled"):this.$plus.removeClass("disabled"))},getValue:function(){return this.curValue},addClickListener:function(e,t){var s=this;e.data("clicklistener")||(e.data("clicklistener","true"),e.on("click",function(i){return i.stopPropagation(),i.preventDefault(),t(s,e,i),!1}))}},e.exports=i},function(e,t,s){"use strict";function i(e){this.$=e}var a=s(2),n=(s(3),s(1));i.prototype={loadOffers:function(e,t){var s={purchaseprice:e.purchasePrice,additionalcosts:e.additionalCosts.total.sum,ownfunds:e.ownFunds,amortizationrate:e.amortizationRate,employment:e.employment,fixednominalinterestrate:e.fixedNominalInterestRate,geocode:e.geoCode,financingtype:"PROPERTY_PURCHASE",providertype:"ALL_WITH_RATES",sortorder:"PROXIMITY",clickpartners:!1,sponsors:!1,limit:20},i=this,o=n.getOfferApiUrl();i.$.ajax({type:"GET",url:o,data:s,contentType:"application/json",accept:"application/json",dataType:"json"}).then(function(e){var s=[];if(e&&e.offer&&e.offer.length>0){var i={};e.offer.sort(function(e,t){return e.distanceToSearchLocation-t.distanceToSearchLocation});for(var a=0;a<e.offer.length;a++){var n=e.offer[a];if(n.mortgageProvider){if("brand"in n.mortgageProvider){if(i[n.mortgageProvider.brand.id])continue;i[n.mortgageProvider.brand.id]=!0}"numberOfRatings"in n.mortgageProvider&&0===n.mortgageProvider.numberOfRatings?s.push(n):"averageRating"in n.mortgageProvider&&n.mortgageProvider.averageRating>3&&s.push(n)}}}t(s.slice(0,3))},function(e){var s="could not load offers: ";s+=e instanceof TypeError?e.message:e.responseJSON&&e.responseJSON.message&&e.responseJSON.message.length>0?e.responseJSON.message[0].messageCode:JSON.stringify(e),a.throwError(s),t([])})}},e.exports=i},function(e,t,s){"use strict";function i(e,t){e=JSON.parse(e||"[]"),t=JSON.parse(t||"{}"),"object"==typeof window.is24.baufinanzierung.widgets.featureSwitches&&(e=window.is24.baufinanzierung.widgets.featureSwitches),this.featureSwitches={};for(var s=0;s<e.length;s++){var i=e[s];this.featureSwitches[i.name]=i.active}this.optimizelyConfig={},this.optimizelyConfig.featureFlags=t.featureFlags||[],this.optimizelyConfig.rollouts=t.rollouts||[]}var a=s(21),n=s(1);i.prototype={isActive:function(e){if(!this.featureSwitches[e])return window.is24.baufinanzierung.widgets.debug="feature '"+e+"' disabled",!1;var t=this.getRolloutTraffic(e);if(null===t)return window.is24.baufinanzierung.widgets.debug="feature '"+e+"' enabled, no traffic configured",!0;if(0===t)return window.is24.baufinanzierung.widgets.debug="feature '"+e+"' enabled, traffic set to 0",!1;if(100===t)return window.is24.baufinanzierung.widgets.debug="feature '"+e+"' enabled, traffic set to 100",!0;var s=a.get("ABNTEST");if(void 0===s||null===s)return window.is24.baufinanzierung.widgets.debug="feature '"+e+"' enabled, traffic set to "+t+", abTestValue not found",!1;var i=s%100,n=i<=t;return window.is24.baufinanzierung.widgets.debug="feature '"+e+"' enabled, traffic set to "+t+", abTestValue '"+s+"', abGroup '"+i+"', isActive "+n,n},getRolloutTraffic:function(e){var t,s,i,a;for(t=0;t<this.optimizelyConfig.featureFlags.length;t++)if(s=this.optimizelyConfig.featureFlags[t],s.key===e){a=s.rolloutId;break}if(a)for(t=0;t<this.optimizelyConfig.rollouts.length;t++)if(i=this.optimizelyConfig.rollouts[t],i.id===a)return i.experiments&&i.experiments.length>0&&"Running"===i.experiments[0].status&&i.experiments[0].trafficAllocation&&i.experiments[0].trafficAllocation.length>0?i.experiments[0].trafficAllocation[0].endOfRange/100:0;return null},getTargetVariable:function(e){var t="target_sandbox";n.isLiveStage()&&(t="target_live");var s,i,a;for(s=0;s<this.optimizelyConfig.featureFlags.length;s++)if(a=this.optimizelyConfig.featureFlags[s],a.key===e){if(a.variables&&a.variables.length>0)for(i=0;i<a.variables.length;i++)if(a.variables[i].key===t)return a.variables[i].defaultValue;break}return null}},e.exports=i}]);